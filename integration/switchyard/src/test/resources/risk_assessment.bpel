<process name="riskAssessmentProcess"

   targetNamespace="http://example.com/loan-approval/riskAssessment/"

   xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable"

   xmlns:lns="http://example.com/loan-approval/riskAssessment/"

   suppressJoinFailure="yes">

 

   <import importType="http://schemas.xmlsoap.org/wsdl/"

      location="riskAssessmentPT.wsdl"

      namespace="http://example.com/loan-approval/riskAssessment/" />

 

   <partnerLinks>

      <partnerLink name="assessor"

         partnerLinkType="lns:riskAssessmentLT"

         myRole="assessor" />

   </partnerLinks>

 

   <variables>

      <variable name="check" messageType="lns:checkMessage" />
      <variable name="checkResponse" messageType="lns:checkResponseMessage" />

      <variable name="faultResponse" messageType="lns:errorMessage" />

   </variables>

   <sequence>

      <receive partnerLink="assessor" 

         portType="lns:riskAssessmentPT"

         operation="check" 

         variable="check"

         createInstance="yes">

      </receive>

        <assign validate="no" name="AssignName">
            <copy>
                <from><literal><tns:CheckResponse xmlns:tns="http://example.com/loan-approval/loanService/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <tns:level>low</tns:level>
</tns:CheckResponse>
</literal></from>
                <to variable="checkResponse" part="parameter"></to>
            </copy>
        </assign>

      <reply partnerLink="assessor" 

         portType="lns:riskAssessmentPT"

         operation="check" 

         variable="checkResponse">

      </reply>

   </sequence>

</process>
